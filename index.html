<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reloadable Account â€“ demo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="logo">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2300aa00'/%3E%3C/svg%3E" alt="logo" />
    </div>
  </header>

  <main class="container">
    <!-- Greeting -->
    <div class="greeting">
      <div class="check"></div>
      <div>You're welcome, <strong id="userName">Guest</strong></div>
    </div>

    <!-- Balance Card -->
    <section class="card balance-card">
      <div class="card-title">Available Balance</div>
      <div class="amount" id="balanceAmount">$150,000.00</div>
      <div class="note">Reloadable Deposit Account</div>
    </section>

    <!-- Gold Notice Card -->
    <section class="card gold-card">
      <div class="brand">greendot<span class="bank"> bank</span></div>
      <div class="gold-text">
        Welcome! Please link your Reloadable VisaÂ® Card to start using this account.
      </div>
      <div class="chip">VISA</div>
    </section>

    <!-- Sign out button -->
    <button id="signOutBtn" style="margin:12px 0;padding:10px 14px;border-radius:8px;border:1px solid #ddd;">
      Sign out
    </button>
  </main>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>

  <script>
    // ðŸ”‘ Your Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",   // copy from Firebase (Config view)
      authDomain: "greendo-13d7e.firebaseapp.com",
      projectId: "greendo-13d7e",
      storageBucket: "greendo-13d7e.appspot.com",
      messagingSenderId: "235564339717",
      appId: "1:235564339717:web:58837e6ab78cddf5de026c"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Protect page â†’ redirect if not logged in
    auth.onAuthStateChanged(user => {
      if (!user) {
        location.href = "login.html";
      } else {
        // Show user's name in greeting
        const name = user.displayName || user.email.split("@")[0];
        document.getElementById("userName").textContent = name;
      }
    });

    // Sign out
    window.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("signOutBtn");
      if (btn) {
        btn.onclick = () => auth.signOut().then(() => {
          location.href = "login.html";
        });
      }
    });
  </script>

  <!-- Your custom JS -->
  <script src="app.js"></script>
</body>
</html>
